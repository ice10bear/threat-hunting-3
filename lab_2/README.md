Практическое задание №2
================
Емельяненко Мария БИСО-01-20

Использование технологии Yandex DataLens для анализа данных сетевой
активности

# Использование технологии Yandex DataLens для анализа данных сетевой активности

## Цель работы

1.  Изучить возможности технологии Yandex DataLens для визуального
    анализа структурированных наборов данных
2.  Получить навыки визуализации данных для последующего анализа с
    помощью сервисов Yandex Cloud
3.  Получить навыки создания решений мониторинга/SIEM на базе облачных и
    открытых программных решений
4.  Закрепить практические навыки использования SQL для анализа данных
    сетевой активности в сегментированной корпоративной сети

## Исходные данные

1.  Ноутбук с ОС Windows 10
2.  RStudio
3.  Yandex Cloud
4.  Yandex DataLens

## Задание

Используя сервис Yandex DataLens настроить доступ к результатам Yandex
Query, полученным в ходе выполнения практической работы №1, и визуально
представить результаты анализа данных.

### Поставленные задачи

1.  Представить в виде круговой диаграммы соотношение внешнего и
    внутреннего сетевого трафика.
2.  Представить в виде столбчатой диаграммы соотношение входящего и
    исходящего трафика из внутреннего сетвого сегмента.
3.  Построить график активности (линейная диаграмма) объема трафика во
    времени.
4.  Все построенные графики вывести в виде единого дашборда в Yandex
    DataLens.

## Ход работы

### Настроить подключение к Yandex Query из DataLens

1\. Переходим на сервис – https://datalens.yandex.ru/

2\. Выбраем “Подключения” – “Создать новое подключение”

3\. В разделе “Файлы и сервисы” выбираем Yandex Query

4\. Настраиваем и проверяем подключение

![](images/image-1031019948.png)

### Создать из запроса YandexQuery датасет DataLens

![](images/image-919096848.png)

### Делаем нужные графики и диаграммы

В DataLens они называются чартами.

-   Круговая диаграмма соотношения внешнего и внутреннего сетевого
    трафика. (Внутренняя сеть с IP-адресами 12… 13… 14…)

<!-- -->

    IF (([src] LIKE '12.%' OR [src] LIKE '13.%' OR [src] LIKE '14.%') AND ([dst] LIKE '12.%' OR [dst] LIKE '13.%' OR [dst] LIKE '14.%'))
      THEN 'Внутренний трафик'
    ELSE
      'Внешний трафик'
    END

![](images/image-984278814.png)

-   Представить в виде столбчатой диаграммы соотношение входящего и
    исходящего трафика из внутреннего сетвого сегмента.

<!-- -->

    IF (LEFT([src], 3) IN ('12.', '13.', '14.') AND LEFT([dst], 3) NOT IN ('12.', '13.', '14.'))
        THEN 'Исходящий трафик'
    ELSEIF (LEFT([dst], 3) IN ('12.', '13.', '14.') AND LEFT([src], 3) NOT IN ('12.', '13.', '14.'))
        THEN 'Входящий трафик'
    ELSE
        'Нераспознанный трафик'
    END

![](images/image-1574101154.png)

-   Построить график активности (линейная диаграмма) объема трафика во
    времени.

![](images/image-738697878.png)

Необходимо преобразовать поле с временем, для отображения секунд.

-   Все построенные графики вывести в виде единого дашборда в Yandex
    DataLens.

``` r
print("Задание выполнено!")
```

    [1] "Задание выполнено!"

## Оценка результатов

Было создано несколько графиков на основе предоставленного набора
данных, а также был создан дашборд, объединяющий эти графики.

Он доступен по ссылке:
https://datalens.yandex.cloud/o8x0os5c3nmkc-novyy-dashbord

## Вывод

Были изучены возможности Yandex DataLens для визуального анализа
структурированных наборов данных. Получены навыки создания решений
мониторинга/SIEM на базе облачных решений. Закреплены практические
навыки использования SQL-запросов для анализа данных сетевой активности
в сегментированной корпоративной сети.
